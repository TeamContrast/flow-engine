[gd_scene load_steps=21 format=3 uid="uid://b73xpbb2750rx"]

[ext_resource type="PackedScene" uid="uid://b1g7if77ai0ej" path="res://LevelItems/Player.tscn" id="1"]
[ext_resource type="PackedScene" path="res://LevelItems/LayerSwitch.tscn" id="2"]
[ext_resource type="PackedScene" path="res://LevelItems/FallingParticles.tscn" id="3"]
[ext_resource type="PackedScene" uid="uid://44fuy8v1ifes" path="res://UI/RingCounter.tscn" id="4"]
[ext_resource type="TileSet" uid="uid://eyk0i4txa7cv" path="res://tiles/flow_engine_demo_tileset.tres" id="4_gr02y"]
[ext_resource type="PackedScene" path="res://UI/boostBar.tscn" id="5"]
[ext_resource type="PackedScene" uid="uid://cgvkxjgy6c1pc" path="res://LevelItems/Rail.tscn" id="6"]
[ext_resource type="AudioStream" uid="uid://dtkg5wpds5xo1" path="res://audio/JehJehRocket.ogg" id="51"]
[ext_resource type="Texture2D" uid="uid://drjpvy2o8ya80" path="res://sprites/Backgrounds/back.png" id="52"]
[ext_resource type="PackedScene" path="res://LevelItems/Spring.tscn" id="56"]

[sub_resource type="Curve" id="1"]
_data = [Vector2(0, 0), 0.0, 0.0, 0, 0, Vector2(0.0790698, 1), 0.0, 0.0, 0, 0, Vector2(1, 0), 0.0, 0.0, 0, 0]
point_count = 3

[sub_resource type="CurveTexture" id="2"]
curve = SubResource("1")

[sub_resource type="ParticleProcessMaterial" id="3"]
emission_shape = 2
emission_sphere_radius = 1.0
direction = Vector3(0, 1, 0)
spread = 0.0
gravity = Vector3(0, 98, 0)
scale_curve = SubResource("2")
color = Color(0.937255, 0.690196, 0.0392157, 1)

[sub_resource type="ParticleProcessMaterial" id="4"]
emission_shape = 2
emission_sphere_radius = 1.0
direction = Vector3(0, 1, 0)
spread = 0.0
gravity = Vector3(0, 98, 0)
scale_curve = SubResource("2")
color = Color(0, 0.670588, 1, 1)

[sub_resource type="ParticleProcessMaterial" id="5"]
emission_shape = 2
emission_sphere_radius = 1.0
direction = Vector3(0, 1, 0)
spread = 0.0
gravity = Vector3(0, 98, 0)
scale_curve = SubResource("2")
color = Color(0.937255, 0.0392157, 0.0392157, 1)

[sub_resource type="RectangleShape2D" id="6"]
size = Vector2(64, 64)

[sub_resource type="RectangleShape2D" id="7"]
size = Vector2(64, 64)

[sub_resource type="RectangleShape2D" id="8"]
size = Vector2(20000, 128)

[sub_resource type="Curve2D" id="9"]
_data = {
"points": PackedVector2Array(0, 0, 0, 0, 8.15796, -68.1965, -170.859, -2.66968, 170.859, 2.66968, 288.474, -65.5269, -49.3891, 30.7013, 49.3891, -30.7013, 504.718, -313.807, -177.534, 1.33484, 177.534, -1.33484, 675.579, -343.174, -90.7691, -37.3755, 90.7691, 37.3755, 818.406, -98.8978, 0, 0, 0, 0, 1152.12, -73.5359)
}
point_count = 6

[sub_resource type="Curve2D" id="10"]
_data = {
"points": PackedVector2Array(0, 0, 0, 0, -2656.84, -339.234, -429.921, -22.6274, 429.921, 22.6274, -1751.75, -435.401, -169.706, -42.4264, 169.706, 42.4264, -954.131, -226.097, -441.235, -113.137, 441.235, 113.137, -51.8643, -47.9061, -197.99, 0, 197.99, 0, 380.885, 362.216, 0, 0, 0, 0, 912.629, 359.387)
}
point_count = 6

[node name="Node2D" type="Node2D"]

[node name="Player" parent="." instance=ExtResource("1")]
position = Vector2(120.642, -46.8283)

[node name="GPUParticles2D" parent="Player" instance=ExtResource("3")]

[node name="Particles2D2" type="GPUParticles2D" parent="Player"]
visible = false
position = Vector2(39.7491, -100)
amount = 25
process_material = SubResource("3")
randomness = 1.0

[node name="Particles2D3" type="GPUParticles2D" parent="Player"]
visible = false
position = Vector2(39.7491, -100)
amount = 25
process_material = SubResource("4")
randomness = 1.0

[node name="Particles2D4" type="GPUParticles2D" parent="Player"]
visible = false
position = Vector2(39.7491, -100)
amount = 25
process_material = SubResource("5")
randomness = 1.0

[node name="Static Ground" type="TileMap" parent="."]
tile_set = ExtResource("4_gr02y")
format = 2
layer_0/tile_data = PackedInt32Array(-458758, 13, 196608, -458757, 13, 196608, -458756, 13, 196608, -458755, 13, 196608, -458754, 13, 0, -458753, 13, 0, -524288, 13, 0, -524287, 13, 0, -524286, 13, 0, -524285, 13, 0, -393222, 13, 196608, -393221, 4, 196608, -458750, 4, 393216, -458749, 13, 0, -327686, 13, 196608, -393213, 13, 0, -262150, 13, 196608, -327677, 13, 0, -196614, 13, 196608, -262141, 13, 0, -131078, 13, 196608, -196608, 0, 0, -65542, 13, 196608, -65537, 0, 0, -6, 13, 196608, -5, 4, 327680, 65519, 65536, 0, 65520, 131072, 0, 65521, 131072, 0, 65522, 131072, 0, 65523, 131072, 0, 65524, 131072, 0, 65525, 131072, 0, 65526, 131072, 0, 65527, 131072, 0, 65528, 131072, 0, 65529, 131072, 0, 65530, 131072, 0, 65531, 131072, 0, 65532, 131072, 0, 65533, 131072, 0, 65534, 131072, 0, 65535, 131072, 0, 0, 131072, 0, 1, 131072, 0, 2, 131072, 0, 3, 131072, 0, 4, 131072, 0, 5, 131072, 0, 6, 131072, 0, 7, 131072, 0, 8, 131072, 0, 9, 131072, 0, 10, 131072, 0, 11, 131072, 0, 12, 131072, 0, 13, 131072, 0, 14, 131072, 0, 15, 131072, 0, 16, 131072, 0, 17, 131072, 0, 18, 131072, 0, 19, 131072, 0, 20, 131072, 0, 21, 131072, 0, 22, 131072, 0, 23, 131072, 0, 24, 131072, 0, 25, 131072, 0, 26, 196608, 0, 262168, 262144, 2, 262179, 0, 268435460, 262180, 65536, 0, 262181, 131072, 0, 262182, 131072, 0, 262183, 131072, 0, 262184, 131072, 0, 262185, 131072, 0, 262186, 131072, 0, 262187, 131072, 0, 262188, 131072, 0, 262189, 131072, 0, 262190, 131072, 0, 262191, 131072, 0, 262192, 131072, 0, 262193, 131072, 0, 262194, 131072, 0, 262195, 131072, 0, 262196, 131072, 0, 262197, 131072, 0, 262198, 131072, 0, 262199, 131072, 0, 262200, 131072, 0, 262201, 131072, 0, 262202, 131072, 0, 262203, 131072, 0, 262204, 131072, 0, 262205, 131072, 0, 262206, 131072, 0, 262207, 131072, 0, 262208, 131072, 0, 262209, 65536, 0, 262210, 131072, 0, 262211, 131072, 0, 262212, 131072, 0, 262213, 131072, 0, 262214, 131072, 0, 262215, 131072, 0, 262216, 196608, 0, 327704, 262144, 2, 327715, 262144, 268435459, 393240, 262144, 2, 393250, 0, 268435460, 393251, 327680, 268435459, 393256, 262144, 2, 393257, 262144, 2, 393258, 262144, 2, 393259, 262144, 2, 393260, 262144, 2, 393261, 262144, 2, 393262, 262144, 2, 393263, 262144, 2, 393264, 262144, 2, 393265, 262144, 2, 458776, 262144, 2, 458786, 262144, 268435459, 458792, 262144, 2, 458793, 262144, 805306368, 458800, 262144, 1610612736, 458801, 262144, 2, 524312, 262144, 2, 524320, 196608, 4, 524321, 0, 3, 524322, 327680, 268435460, 524328, 262144, 2, 524337, 262144, 2, 589848, 262144, 2, 589849, 0, 4, 589851, 65536, 0, 589852, 131072, 0, 589853, 131072, 0, 589854, 131072, 0, 589855, 131072, 0, 589864, 262144, 2, 589868, 262144, 2, 589869, 262144, 2, 589870, 262144, 2, 589871, 262144, 2, 589873, 262144, 2, 589876, 12, 65536, 589877, 15, 65536, 655385, 262144, 3, 655386, 131072, 4, 655400, 262144, 2, 655401, 262144, 1342177280, 655405, 262144, 1610612736, 655406, 262144, 2, 655407, 262144, 2, 655409, 262144, 2, 655412, 14, 65536, 720921, 327680, 3, 720922, 0, 4, 720936, 262144, 2, 720937, 262144, 2, 720938, 262144, 2, 720939, 262144, 2, 720940, 262144, 2, 720942, 262144, 2, 720943, 262144, 2, 720945, 262144, 2, 720974, 131072, 0, 720975, 131072, 0, 720976, 131072, 0, 720977, 131072, 0, 720978, 131072, 0, 720979, 131072, 0, 720980, 131072, 0, 720981, 131072, 0, 720982, 131072, 0, 720983, 131072, 0, 720984, 131072, 0, 720985, 131072, 0, 720986, 131072, 0, 720987, 131072, 0, 720988, 131072, 0, 720989, 131072, 0, 720990, 131072, 0, 720991, 131072, 0, 720992, 131072, 0, 720993, 131072, 0, 720994, 131072, 0, 720995, 131072, 0, 720996, 131072, 0, 720997, 131072, 0, 720998, 131072, 0, 786458, 262144, 3, 786459, 131072, 4, 786478, 262144, 2, 786479, 262144, 2, 851994, 327680, 3, 851995, 0, 4, 852014, 262144, 2, 852015, 262144, 2, 852016, 262144, 1342177280, 917531, 262144, 3, 917532, 131072, 4, 917550, 1, 0, 917551, 65536, 0, 917552, 131072, 0, 917553, 131072, 0, 917554, 131072, 0, 917555, 131072, 0, 917556, 131072, 0, 917557, 131072, 0, 917558, 131072, 0, 917559, 131072, 0, 917560, 131072, 0, 917561, 131072, 0, 917562, 131072, 0, 917563, 131072, 0, 917564, 131072, 0, 917565, 131072, 0, 917566, 131072, 0, 917567, 131072, 0, 917568, 131072, 0, 917569, 131072, 0, 917570, 196608, 0, 983067, 327680, 4, 983068, 0, 268435459, 983069, 196608, 268435460, 983086, 262144, 2, 1048605, 262144, 268435460, 1048606, 0, 268435459, 1048607, 196608, 268435460, 1048621, 262144, 0, 1048622, 262144, 2, 1048692, 262144, 0, 1114143, 262144, 268435460, 1114144, 131072, 0, 1114145, 131072, 0, 1114146, 131072, 0, 1114147, 131072, 0, 1114148, 131072, 0, 1114149, 131072, 0, 1114150, 131072, 0, 1114151, 131072, 0, 1114152, 131072, 0, 1114153, 131072, 0, 1114154, 131072, 0, 1114155, 131072, 0, 1114156, 131072, 0, 1114157, 131072, 0, 1114158, 196608, 0, 1310785, 65536, 0, 1310786, 131072, 0, 1310787, 131072, 0, 1310788, 131072, 0, 1310789, 131072, 0, 1310790, 131072, 0, 1310791, 131072, 0, 1310792, 131072, 0, 1310793, 131072, 0, 1310794, 131072, 0, 1310795, 131072, 0, 1310796, 131072, 0, 1310797, 131072, 0, 1310798, 131072, 0, 1310799, 131072, 0, 1310800, 131072, 0, 1310801, 0, 268435459, 1310802, 196608, 268435460, 1376338, 262144, 268435460, 1376339, 0, 268435459, 1376340, 196608, 268435460, 1441876, 262144, 268435460, 1441877, 0, 268435459, 1441878, 196608, 268435460, 1507414, 262144, 268435460, 1507415, 65536, 0, 1507416, 131072, 0, 1507417, 131072, 0, 1507418, 131072, 0, 1507419, 131072, 0, 1507420, 131072, 0, 1507421, 131072, 0, 1114221, 131072, 0, 1114222, 131072, 0, 1114223, 131072, 0, 1114224, 131072, 0, 1114225, 131072, 0, 1114226, 131072, 0, 1114227, 131072, 0, 1114228, 131072, 0, 1114229, 196608, 0, 1114220, 65536, 0, 786537, 0, 4, 917610, 0, 4, 852073, 262144, 3, 983146, 262144, 3, 852074, 131072, 4, 983147, 131072, 4, 1048682, 327680, 4, 1048683, 0, 268435459, 1048684, 196608, 268435460, 786536, 327680, 3, 720999, 131072, 0, 721000, 262144, 3, 917609, 327680, 3, 589856, 262144, 4, 1048693, 131072, 0, 983157, 131072, 0, 917621, 131072, 0, 852085, 131072, 0, 786549, 131072, 0, 655480, 131072, 0, 655481, 131072, 0, 655482, 131072, 0, 655483, 196608, 0, 589947, 196608, 0, 655479, 131072, 0, 655478, 131072, 0, 655477, 65536, 0, 721013, 131072, 0)

[node name="Loop_Left" type="TileMap" parent="."]
z_index = -5
tile_set = ExtResource("4_gr02y")
format = 2
layer_0/tile_data = PackedInt32Array(-327667, 12, 0, -327669, 196608, 268435458, -262135, 327680, 268435457, -196599, 262144, 268435457, -65525, 0, 268435457, -65526, 65536, 268435457, 393321, 196608, 268435458, 393320, 0, 268435458, 393319, 65536, 268435458, 458856, 131072, 268435458, 458855, 327680, 268435457, 524391, 262144, 268435457, 589928, 196608, 268435457, 589927, 131072, 268435457, 655463, 262144, 268435458, 655464, 196608, 3, -196590, 0, 268435461, -65519, 196608, 268435461, 589877, 196608, 268435458, 589876, 0, 268435458, 589875, 65536, 268435458, 655412, 131072, 268435458, 655411, 327680, 268435457, 720947, 262144, 268435457, 786484, 196608, 268435457, 786483, 131072, 268435457, 852021, 0, 268435457, 852020, 65536, 268435457, 852019, 262144, 268435458, -196591, 65536, 268435461, -131055, 131072, 268435461, -65518, 262144, 268435461, -327670, 0, 268435458, -327671, 65536, 268435458, -262134, 131072, 268435458, -131062, 196608, 268435457, -131063, 131072, 268435457, -65527, 262144, 268435458, -65470, 196608, 268435458, -65471, 0, 268435458, -65472, 65536, 268435458, 65, 131072, 268435458, 64, 327680, 268435457, 65600, 262144, 268435457, 131137, 196608, 268435457, 131136, 131072, 268435457, 196674, 0, 268435457, 196673, 65536, 268435457, 196672, 262144, 268435458)

[node name="Loop_Right" type="TileMap" parent="."]
tile_set = ExtResource("4_gr02y")
format = 2
layer_0/tile_data = PackedInt32Array(589878, 196608, 2, 852022, 0, 1, 589879, 0, 2, 655415, 131072, 2, 786487, 196608, 1, 852023, 65536, 1, 589880, 65536, 2, 655416, 327680, 1, 720952, 262144, 1, 786488, 131072, 1, 852024, 262144, 2, -65469, 196608, 2, 196675, 0, 1, -65468, 0, 2, 68, 131072, 2, 131140, 196608, 1, 196676, 65536, 1, -65467, 65536, 2, 69, 327680, 1, 65605, 262144, 1, 131141, 131072, 1, 196677, 262144, 2, 393322, 196608, 2, 655466, 0, 1, 393323, 0, 2, 458859, 131072, 2, 589931, 196608, 1, 655467, 65536, 1, 393324, 65536, 2, 458860, 327680, 1, 524396, 262144, 1, 589932, 131072, 1, 655468, 262144, 2, 721004, 131072, 0, 721003, 131072, 0, 721002, 131072, 0, 721001, 131072, 0, 721000, 131072, 0, 720999, 131072, 0, 720998, 131072, 0, -327668, 196608, 2, -65524, 0, 1, -327667, 0, 2, -262131, 131072, 2, -131059, 196608, 1, -65523, 65536, 1, -327666, 65536, 2, -262130, 327680, 1, -196594, 262144, 1, -131058, 131072, 1, -65522, 262144, 2, -196589, 0, 5, -65517, 262144, 5, -196588, 65536, 5, -131052, 131072, 5, -65516, 196608, 5)

[node name="LayerSwitches" type="Node" parent="."]

[node name="LayerSwitch" parent="LayerSwitches" instance=ExtResource("2")]
position = Vector2(770, -277)

[node name="Flipper-2" type="Area2D" parent="LayerSwitches"]
position = Vector2(3456.48, 616.48)
collision_layer = 4
collision_mask = 4

[node name="CollisionShape2D" type="CollisionShape2D" parent="LayerSwitches/Flipper-2"]
shape = SubResource("6")

[node name="Flipper-3" type="Area2D" parent="LayerSwitches"]
position = Vector2(6786.34, 423.034)
collision_layer = 4
collision_mask = 4
monitorable = false

[node name="CollisionShape2D" type="CollisionShape2D" parent="LayerSwitches/Flipper-3"]
shape = SubResource("6")

[node name="Flipper-4" type="Area2D" parent="LayerSwitches"]
position = Vector2(1251.47, -128.388)
collision_layer = 4
collision_mask = 4
monitorable = false

[node name="CollisionShape2D" type="CollisionShape2D" parent="LayerSwitches/Flipper-4"]
shape = SubResource("7")

[node name="Flipper-5" type="Area2D" parent="LayerSwitches"]
position = Vector2(1187.07, -128.388)
collision_layer = 4
collision_mask = 4

[node name="CollisionShape2D" type="CollisionShape2D" parent="LayerSwitches/Flipper-5"]
shape = SubResource("7")

[node name="Layer0-1" type="Area2D" parent="LayerSwitches"]
position = Vector2(3263.06, 862.936)
collision_layer = 4
collision_mask = 4

[node name="CollisionShape2D" type="CollisionShape2D" parent="LayerSwitches/Layer0-1"]
shape = SubResource("6")

[node name="Layer0-2" type="Area2D" parent="LayerSwitches"]
position = Vector2(580.026, -31.7146)
collision_layer = 4
collision_mask = 4

[node name="CollisionShape2D" type="CollisionShape2D" parent="LayerSwitches/Layer0-2"]
shape = SubResource("6")

[node name="Layer0-4" type="Area2D" parent="LayerSwitches"]
position = Vector2(1103.72, -31.7146)
collision_layer = 4
collision_mask = 4

[node name="CollisionShape2D" type="CollisionShape2D" parent="LayerSwitches/Layer0-4"]
shape = SubResource("6")

[node name="Layer0-3" type="Area2D" parent="LayerSwitches"]
position = Vector2(6452.32, 547.758)
scale = Vector2(5, 5)
collision_layer = 4
collision_mask = 4

[node name="CollisionShape2D" type="CollisionShape2D" parent="LayerSwitches/Layer0-3"]
shape = SubResource("6")

[node name="Layer1-1" type="Area2D" parent="LayerSwitches"]
position = Vector2(3649.06, 863.936)
collision_layer = 4
collision_mask = 4

[node name="CollisionShape2D" type="CollisionShape2D" parent="LayerSwitches/Layer1-1"]
shape = SubResource("6")

[node name="Layer1-2" type="Area2D" parent="LayerSwitches"]
position = Vector2(957.822, -28.5201)
collision_layer = 4
collision_mask = 4

[node name="CollisionShape2D" type="CollisionShape2D" parent="LayerSwitches/Layer1-2"]
shape = SubResource("6")

[node name="Layer1-4" type="Area2D" parent="LayerSwitches"]
position = Vector2(1332.22, -30.8528)
collision_layer = 4
collision_mask = 4

[node name="CollisionShape2D" type="CollisionShape2D" parent="LayerSwitches/Layer1-4"]
shape = SubResource("6")

[node name="Layer1-3" type="Area2D" parent="LayerSwitches"]
position = Vector2(6878.71, 774.938)
scale = Vector2(5, 1)
collision_layer = 4
collision_mask = 4

[node name="CollisionShape2D" type="CollisionShape2D" parent="LayerSwitches/Layer1-3"]
shape = SubResource("6")

[node name="DeathPlane" type="Area2D" parent="."]
position = Vector2(4024.73, 1986.99)
collision_layer = 1048575
collision_mask = 1048575

[node name="CollisionShape2D" type="CollisionShape2D" parent="DeathPlane"]
shape = SubResource("8")

[node name="AudioStreamPlayer" type="AudioStreamPlayer" parent="."]
stream = ExtResource("51")
autoplay = true

[node name="ParallaxBackground" type="ParallaxBackground" parent="."]
layer = -1
scroll_ignore_camera_zoom = true

[node name="ParallaxLayer" type="ParallaxLayer" parent="ParallaxBackground"]
motion_scale = Vector2(0.01, 0.01)

[node name="Sprite2D" type="Sprite2D" parent="ParallaxBackground/ParallaxLayer"]
position = Vector2(144.76, -91.7872)
scale = Vector2(3, 3)
texture = ExtResource("52")

[node name="StageItems" type="Node" parent="."]

[node name="Spring" parent="StageItems" instance=ExtResource("56")]
position = Vector2(1717.53, -30.3963)
rotation = 0.0221229

[node name="Spring2" parent="StageItems" instance=ExtResource("56")]
position = Vector2(4274.89, 809.604)

[node name="Spring3" parent="StageItems" instance=ExtResource("56")]
position = Vector2(4328.07, 1247.02)
STRENGTH = 10.0
DIRECTED = true

[node name="Rail" parent="." instance=ExtResource("6")]
position = Vector2(3008.69, 286.934)
curve = SubResource("9")

[node name="Rail2" parent="Rail" instance=ExtResource("6")]
position = Vector2(3845.88, -7.41382)
curve = SubResource("10")

[node name="CanvasLayer" type="CanvasLayer" parent="."]

[node name="RingCounter" parent="CanvasLayer" instance=ExtResource("4")]

[node name="boostBar" parent="CanvasLayer" instance=ExtResource("5")]
layout_mode = 3
anchors_preset = 2
offset_left = 0.0
offset_top = -40.0
offset_right = 40.0
offset_bottom = 0.0
grow_vertical = 0
infiniteBoost = true

[connection signal="area_entered" from="LayerSwitches/Flipper-2" to="Player" method="_flipLayer"]
[connection signal="area_entered" from="LayerSwitches/Flipper-3" to="Player" method="_flipLayer"]
[connection signal="area_entered" from="LayerSwitches/Flipper-4" to="Player" method="_layer0"]
[connection signal="area_entered" from="LayerSwitches/Flipper-5" to="Player" method="_layer1"]
[connection signal="area_entered" from="LayerSwitches/Layer0-1" to="Player" method="_layer0"]
[connection signal="area_entered" from="LayerSwitches/Layer0-2" to="Player" method="_layer0"]
[connection signal="area_entered" from="LayerSwitches/Layer0-4" to="Player" method="_layer0"]
[connection signal="area_entered" from="LayerSwitches/Layer0-3" to="Player" method="_layer0"]
[connection signal="area_entered" from="LayerSwitches/Layer1-1" to="Player" method="_layer1"]
[connection signal="area_entered" from="LayerSwitches/Layer1-2" to="Player" method="_layer1"]
[connection signal="area_entered" from="LayerSwitches/Layer1-4" to="Player" method="_layer1"]
[connection signal="area_entered" from="LayerSwitches/Layer1-3" to="Player" method="_layer1"]
[connection signal="area_entered" from="DeathPlane" to="Player" method="_on_DeathPlane_area_entered"]
