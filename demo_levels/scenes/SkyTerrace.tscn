[gd_scene load_steps=21 format=3 uid="uid://b61cjen7h1as6"]

[ext_resource type="PackedScene" uid="uid://b1g7if77ai0ej" path="res://flow_engine/level_items/player/Player.tscn" id="1"]
[ext_resource type="AudioStream" uid="uid://cel0ct1k0gpt4" path="res://demo_levels/audio/GardianPalace3.ogg" id="3"]
[ext_resource type="TileSet" uid="uid://eyk0i4txa7cv" path="res://demo_levels/level_tiles/flow_engine_demo_tileset.tres" id="3_jv5i8"]
[ext_resource type="Texture2D" uid="uid://dsigcv2todbw1" path="res://demo_levels/sprites/backgrounds/Festival/Castle.png" id="4"]
[ext_resource type="Texture2D" uid="uid://do7x0buwd8f1g" path="res://demo_levels/sprites/backgrounds/Festival/Villa.png" id="5"]
[ext_resource type="PackedScene" path="res://demo_levels/level_items/decorations/FallingParticles.tscn" id="6"]
[ext_resource type="Script" path="res://flow_engine/scripts/AudioPlayer.gd" id="9"]
[ext_resource type="PackedScene" uid="uid://bjrx5iv7xjob" path="res://flow_engine/UI/HUD.tscn" id="15"]

[sub_resource type="Curve" id="1"]
_data = [Vector2(0, 0), 0.0, 0.0, 0, 0, Vector2(0.0790698, 1), 0.0, 0.0, 0, 0, Vector2(1, 0), 0.0, 0.0, 0, 0]
point_count = 3

[sub_resource type="CurveTexture" id="2"]
curve = SubResource("1")

[sub_resource type="ParticleProcessMaterial" id="3"]
emission_shape = 2
emission_sphere_radius = 1.0
direction = Vector3(0, 1, 0)
spread = 0.0
gravity = Vector3(0, 98, 0)
scale_curve = SubResource("2")
color = Color(0.396078, 0, 0.878431, 1)

[sub_resource type="ParticleProcessMaterial" id="4"]
emission_shape = 2
emission_sphere_radius = 1.0
direction = Vector3(0, 1, 0)
spread = 0.0
gravity = Vector3(0, 98, 0)
scale_curve = SubResource("2")
color = Color(0.0470588, 0.929412, 0.247059, 1)

[sub_resource type="ParticleProcessMaterial" id="5"]
emission_shape = 2
emission_sphere_radius = 1.0
direction = Vector3(0, 1, 0)
spread = 0.0
gravity = Vector3(0, 98, 0)
scale_curve = SubResource("2")
color = Color(0.941176, 0.560784, 0, 1)

[sub_resource type="ParticleProcessMaterial" id="6"]
emission_shape = 2
emission_sphere_radius = 1.0
direction = Vector3(0, 1, 0)
spread = 0.0
gravity = Vector3(0, 98, 0)
scale_curve = SubResource("2")
color = Color(0.968627, 0.0588235, 0.0470588, 1)

[sub_resource type="ParticleProcessMaterial" id="7"]
emission_shape = 2
emission_sphere_radius = 1.0
direction = Vector3(0, 1, 0)
spread = 0.0
gravity = Vector3(0, 98, 0)
scale_curve = SubResource("2")
color = Color(0.0470588, 0.639216, 0.968627, 1)

[sub_resource type="Gradient" id="8"]
offsets = PackedFloat32Array(0, 0.768868, 1)
colors = PackedColorArray(0.00784314, 0.121569, 0.180392, 1, 0.207, 0, 0.46, 1, 0.921569, 0.556863, 0, 1)

[sub_resource type="GradientTexture2D" id="9"]
gradient = SubResource("8")
width = 128

[sub_resource type="Gradient" id="10"]
offsets = PackedFloat32Array(0, 0.768868, 1)
colors = PackedColorArray(0.00784314, 0.121569, 0.180392, 1, 0.207, 0, 0.46, 1, 0.03125, 0, 1, 1)

[sub_resource type="GradientTexture2D" id="11"]
gradient = SubResource("10")
width = 128

[sub_resource type="RectangleShape2D" id="12"]
size = Vector2(18000, 200)

[node name="Node2D" type="Node2D"]

[node name="Player" parent="." instance=ExtResource("1")]
position = Vector2(-2289.76, -76.452)
boostbar_hud = NodePath("../CanvasLayer/boostBar")
ring_counter_hud = NodePath("../CanvasLayer/RingCounter")

[node name="GPUParticles2D" parent="Player" instance=ExtResource("6")]
visible = false
amount = 25
process_material = SubResource("3")

[node name="Particles2D2" parent="Player" instance=ExtResource("6")]
visible = false
amount = 25
process_material = SubResource("4")

[node name="Particles2D3" parent="Player" instance=ExtResource("6")]
visible = false
amount = 25
process_material = SubResource("5")

[node name="Particles2D4" parent="Player" instance=ExtResource("6")]
visible = false
amount = 25
process_material = SubResource("6")

[node name="Particles2D5" parent="Player" instance=ExtResource("6")]
visible = false
amount = 25
process_material = SubResource("7")

[node name="TileMap2" type="TileMap" parent="."]
z_index = -5
format = 2

[node name="TileMap" type="TileMap" parent="."]
tile_set = ExtResource("3_jv5i8")
format = 2
layer_0/tile_data = PackedInt32Array(65489, 0, 0, 65490, 0, 0, 65491, 0, 0, 65492, 0, 0, 65493, 0, 0, 65494, 0, 0, 65495, 0, 0, 65496, 0, 0, 65497, 0, 0, 65498, 0, 0, 65499, 0, 0, 65500, 0, 0, 65501, 0, 0, 65502, 0, 0, 65503, 0, 0, 65504, 0, 0, 65505, 0, 0, 65506, 0, 0, 65507, 0, 0, 65508, 0, 0, 65509, 0, 0, 65510, 0, 0, 65511, 0, 0, 65512, 0, 0, 65513, 0, 0, 65514, 0, 0, 65515, 0, 0, 65516, 0, 0, 65517, 0, 0, 65518, 0, 0, 65519, 0, 0, 131025, 1, 0, 131026, 65537, 0, 131027, 1, 0, 131028, 65537, 0, 131029, 1, 0, 131030, 65537, 0, 131031, 1, 0, 131032, 65537, 0, 131033, 1, 0, 131034, 65537, 0, 131035, 1, 0, 131036, 65537, 0, 131037, 1, 0, 131038, 65537, 0, 131039, 1, 0, 131040, 65537, 0, 131041, 1, 0, 131042, 65537, 0, 131043, 1, 0, 131044, 65537, 0, 131045, 1, 0, 131046, 65537, 0, 131047, 1, 0, 131048, 65537, 0, 131049, 1, 0, 131050, 65537, 0, 131051, 1, 0, 131052, 65537, 0, 131053, 1, 0, 131054, 65537, 0, 131055, 1, 0, 196561, 1, 1, 196562, 65537, 1, 196563, 1, 1, 196564, 65537, 1, 196565, 1, 1, 196566, 65537, 1, 196567, 1, 1, 196568, 65537, 1, 196569, 1, 1, 196570, 65537, 1, 196571, 1, 1, 196572, 65537, 1, 196573, 1, 1, 196574, 65537, 1, 196575, 1, 1, 196576, 65537, 1, 196577, 1, 1, 196578, 65537, 1, 196579, 1, 1, 196580, 65537, 1, 196581, 1, 1, 196582, 65537, 1, 196583, 1, 1, 196584, 65537, 1, 196585, 1, 1, 196586, 65537, 1, 196587, 1, 1, 196588, 65537, 1, 196589, 1, 1, 196590, 65537, 1, 196591, 1, 1, 262097, 1, 1, 262098, 65537, 1, 262099, 1, 1, 262100, 65537, 1, 262101, 1, 1, 262102, 65537, 1, 262103, 1, 1, 262104, 65537, 1, 262105, 1, 1, 262106, 65537, 1, 262107, 1, 1, 262108, 65537, 1, 262109, 1, 1, 262110, 65537, 1, 262111, 1, 1, 262112, 65537, 1, 262113, 1, 1, 262114, 65537, 1, 262115, 1, 1, 262116, 65537, 1, 262117, 1, 1, 262118, 65537, 1, 262119, 1, 1, 262120, 65537, 1, 262121, 1, 1, 262122, 65537, 1, 262123, 1, 1, 262124, 65537, 1, 262125, 1, 1, 262126, 65537, 1, 262127, 1, 1, 327633, 1, 1, 327634, 65537, 1, 327635, 1, 1, 327636, 65537, 1, 327637, 1, 1, 327638, 65537, 1, 327639, 1, 1, 327640, 65537, 1, 327641, 1, 1, 327642, 65537, 1, 327643, 1, 1, 327644, 65537, 1, 327645, 1, 1, 327646, 65537, 1, 327647, 1, 1, 327648, 65537, 1, 327649, 1, 1, 327650, 65537, 1, 327651, 1, 1, 327652, 65537, 1, 327653, 1, 1, 327654, 65537, 1, 327655, 1, 1, 327656, 65537, 1, 327657, 1, 1, 327658, 65537, 1, 327659, 1, 1, 327660, 65537, 1, 327661, 1, 1, 327662, 65537, 1, 327663, 1, 1, 131056, 65537, 0, 196592, 65537, 1, 327664, 65537, 1, 262128, 65537, 1)

[node name="BackgroundMusic" type="AudioStreamPlayer" parent="."]
stream = ExtResource("3")
autoplay = true
script = ExtResource("9")

[node name="ParallaxBackground" type="ParallaxBackground" parent="."]

[node name="ParallaxLayer4" type="ParallaxLayer" parent="ParallaxBackground"]
visible = false
motion_scale = Vector2(0, 0)

[node name="Sprite2D" type="Sprite2D" parent="ParallaxBackground/ParallaxLayer4"]
position = Vector2(-15.4216, -149.34)
rotation = 1.5708
scale = Vector2(2.5, 1000)
texture = SubResource("9")

[node name="ParallaxLayer" type="ParallaxLayer" parent="ParallaxBackground"]
visible = false
motion_scale = Vector2(0.1, 0)

[node name="Villa" type="Sprite2D" parent="ParallaxBackground/ParallaxLayer"]
position = Vector2(138.109, -32.3916)
texture = ExtResource("5")

[node name="Villa3" type="Sprite2D" parent="ParallaxBackground/ParallaxLayer"]
position = Vector2(59.0268, -35.3646)
texture = ExtResource("5")

[node name="Villa5" type="Sprite2D" parent="ParallaxBackground/ParallaxLayer"]
position = Vector2(-81.2996, -32.9862)
texture = ExtResource("5")

[node name="ParallaxLayer3" type="ParallaxLayer" parent="ParallaxBackground"]
visible = false
motion_scale = Vector2(0.105, 0.005)

[node name="Castle" type="Sprite2D" parent="ParallaxBackground/ParallaxLayer3"]
position = Vector2(4.88063, -64.7696)
scale = Vector2(2, 2)
texture = ExtResource("4")

[node name="ParallaxLayer2" type="ParallaxLayer" parent="ParallaxBackground"]
visible = false
motion_scale = Vector2(0.11, 0.01)

[node name="Villa4" type="Sprite2D" parent="ParallaxBackground/ParallaxLayer2"]
position = Vector2(-40.272, -26.4455)
texture = ExtResource("5")

[node name="Villa2" type="Sprite2D" parent="ParallaxBackground/ParallaxLayer2"]
position = Vector2(91.1354, -27.6348)
texture = ExtResource("5")

[node name="ParallaxLayer5" type="ParallaxLayer" parent="ParallaxBackground"]
visible = false
motion_scale = Vector2(0, 0.015)

[node name="Sprite2D" type="Sprite2D" parent="ParallaxBackground/ParallaxLayer5"]
position = Vector2(-4.10785, 155.732)
rotation = -1.5708
scale = Vector2(2.5, 1000)
texture = SubResource("11")

[node name="DeathPlane" type="Area2D" parent="."]
position = Vector2(4321.7, 489.486)
collision_layer = 1048575
collision_mask = 1048575

[node name="CollisionShape2D" type="CollisionShape2D" parent="DeathPlane"]
shape = SubResource("12")

[node name="CanvasLayer" parent="." instance=ExtResource("15")]

[connection signal="area_entered" from="DeathPlane" to="Player" method="_on_DeathPlane_area_entered"]

[editable path="CanvasLayer"]
